<?xml version="1.0" encoding="utf-8"?>

<!-- Patch supports DMS Core and DMS AncientCorps -->

<Patch>

	<Operation Class="PatchOperationAddModExtension">
		<success>Always</success>
		<xpath>Defs/DesignationCategoryDef[defName="DMS_Category"]</xpath>
		<value>
			<li Class="BetterArchitect.NestedCategoryExtension">
				<parentCategory>Ferny_Automation</parentCategory>
			</li>
		</value>
	</Operation>

<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="DMS_AutofacturerBenchBase"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_LabFurnace"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_LabReactor"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

<!-- PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_TableMachinePrinter"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_TableArtifuscle"]</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION AUXILLIARIES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_MachineCabinet"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>

<!-- SUMMON -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="DMS_BossCallerBase"]</xpath>
		<value>
			<designationCategory>Ferny_Summon</designationCategory>
		</value>
	</Operation>

<!-- WEAPONS -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="DMS_BaseCannonBuilding"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- WEAPONS -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DMS_Turret_Vasilek"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
</Patch>
