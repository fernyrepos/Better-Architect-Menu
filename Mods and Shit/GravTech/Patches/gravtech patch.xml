<?xml version="1.0" encoding="utf-8"?>
<Patch>

<!-- POWER -->
	
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AdvShip_GravReactor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravBattery"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="AdvShip_GravChemfuelTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

<!-- PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravForge"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>
	
<!-- MINING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AsteroidCollector"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>
	
<!-- MEDICAL -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AdvShip_TimeFasterPod"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceFurniture</designationCategory>
		</value>
	</Operation>

<!-- BARRICADES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AdvShip_ShieldGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceCombat</designationCategory>
		</value>
	</Operation>

<!-- WEAPONS -->
<!-- Formerly in Ferny_SpaceCombat. Moved as they do not require substructure. -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="Turret_GravBlaster"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="Turret_BeamRepeater"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- BARRICADES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="ShieldPylon_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>
	
<!-- CONTROL -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravIncreasePylon_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Control</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravDecreasePylon_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Control</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION INFRASTRUCTURE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravChemreactor_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProductionInfrastructure</designationCategory>
		</value>
	</Operation>
	
<!-- SPACE PLATFORM -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="BigVacBarrier"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravEngine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravFieldPylon"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AdvShip_GravThruster"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="AdvShip_ComputerCore"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>

<!-- HEATING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HeaterPylon_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Heating</designationCategory>
		</value>
	</Operation>

<!-- COOLING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="CoolerPylon_GT"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Cooling</designationCategory>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/DesignationCategoryDef[defName="VGE_Power_GT"]</xpath>
		<match Class="PatchOperationRemove">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="VGE_Power_GT"]</xpath>
		</match>
	</Operation>
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/DesignationCategoryDef[defName="VGE_Workbenches_GT"]</xpath>
		<match Class="PatchOperationRemove">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="VGE_Workbenches_GT"]</xpath>
		</match>
	</Operation>
	
</Patch>
