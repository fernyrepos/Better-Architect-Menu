<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	
<!-- Rimatomics category to Power->Nuclear -->

	<Operation Class="PatchOperationAddModExtension">
		<success>Always</success>
		<xpath>Defs/DesignationCategoryDef[defName="Rimatomics"]</xpath>
		<value>

			<li Class="BetterArchitect.NestedCategoryExtension">
				<parentCategory>Power</parentCategory>
			</li>

		</value>
	</Operation>
	
<!-- Add pipe designators -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/DesignationCategoryDef[defName="Ferny_PowerGeneration"]/specialDesignatorClasses</xpath>
		<value>
			<li>Rimatomics.Designator_RemovePipe</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/DesignationCategoryDef[defName="Ferny_PowerManagement"]/specialDesignatorClasses</xpath>
		<value>
			<li>Rimatomics.Designator_RemovePipe</li>
		</value>
	</Operation>
	
<!-- POWER INFRASTRUCTURE -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="BasedPower"]</xpath>
		<value>
			<designationCategory>Ferny_PowerManagement</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="RadiationShielding"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerManagement</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="DU_Blastdoor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerManagement</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="BaseSarc"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerManagement</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="BaseSarc"]/designatorDropdown</xpath>
	</Operation>
	
<!-- POWER GENERATION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="RimatomicsRTG"]</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="Turbine"]</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="BigTurbine"]</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="TableRimatomicsMachining"]</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>
	
<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="PlutoniumProcessor"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>
	
<!-- RESEARCH -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="NuclearResearchBench"]</xpath>
		<value>
			<designationCategory>Ferny_ResearchProduction</designationCategory>
		</value>
	</Operation>
	
<!-- AUXILLIARIES -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="ResearchReactor"]</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="WeaponsBench"]</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>
	
<!-- WEAPONS -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="BasedWeapon"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- BARRICADES -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="PPCHEL"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="RimatomicsShieldGenerator"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

<!-- COMBAT INFRASTRUCTURE -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="PPC"]</xpath>
		<value>
			<designationCategory>Ferny_CombatInfrastructure</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="PPCWeaponsConsole"]</xpath>
		<value>
			<designationCategory>Ferny_CombatInfrastructure</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="RadarDish"]</xpath>
		<value>
			<designationCategory>Ferny_CombatInfrastructure</designationCategory>
		</value>
	</Operation>
	
</Patch>