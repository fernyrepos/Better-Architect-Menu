<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/DesignationCategoryDef[defName="VCHE_PipeNetworks"]</xpath>
		<match Class="PatchOperationAddModExtension">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="Ferny_AstrofuelNetwork"]</xpath>
			<value>
				<li Class="BetterArchitect.NestedCategoryExtension">
					<parentCategory>VCHE_PipeNetworks</parentCategory>
				</li>
			</value>
		</match>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/DesignationCategoryDef[defName="VCHE_PipeNetworks"]</xpath>
		<match Class="PatchOperationAddModExtension">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="Ferny_OxygenNetwork"]</xpath>
			<value>
				<li Class="BetterArchitect.NestedCategoryExtension">
					<parentCategory>VCHE_PipeNetworks</parentCategory>
				</li>
			</value>
		</match>
	</Operation>
	
<!-- ASTROFUEL -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/PipeSystem.PipeNetDef[defName="VGE_AstrofuelNet"]/designator/designationCategoryDef</xpath>
		<value>
			<designationCategoryDef>Ferny_AstrofuelNetwork</designationCategoryDef>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelPipe"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelValve"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GiantAstrofuelTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelTap"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelDrain"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelSynthesizer"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>
	
<!-- OXYGEN -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/PipeSystem.PipeNetDef[defName="VGE_OxygenNet"]/designator/designationCategoryDef</xpath>
		<value>
			<designationCategoryDef>Ferny_OxygenNetwork</designationCategoryDef>
		</value>
	</Operation>

	<!-- Move vanilla oxygen pump as it uses this network now. -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="OxygenPump"]</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenPipe"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenValve"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_SmallOxygenTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_LargeOxygenTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenCanisterFiller"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenCanisterEmptier"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenHarvester"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_LifeSupportSystem"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_IndustrialOxygenPump"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

<!-- DECORATIONS -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_FauxPlant"]</xpath>
		<value>
			<designationCategory>Ferny_Decorations</designationCategory>
		</value>
	</Operation>

<!-- KITCHEN -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CompactStove"]</xpath>
		<value>
			<designationCategory>Ferny_Kitchen</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactStove"]/designatorDropdown</xpath>
	</Operation>
	
<!-- PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactDrugLab"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactMachiningTable"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactSmithy"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactTailor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactFabBench"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactDrugLab"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactMachiningTable"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactSmithy"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactTailor"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactFabBench"]/designatorDropdown</xpath>
	</Operation>
	
<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactRefinery"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactRefinery"]/designatorDropdown</xpath>
	</Operation>

<!-- WEAPONS -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipBuildingBase"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipArtilleryBase"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- COMBAT INFRASTRUCTURE -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_TargetingTerminal"]</xpath>
		<value>
			<designationCategory>Ferny_CombatInfrastructure</designationCategory>
		</value>
	</Operation>

<!-- GENERAL STORAGE -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_GravshipShelf"]</xpath>
		<value>
			<designationCategory>Ferny_GeneralStorage</designationCategory>
		</value>
	</Operation>

<!-- FIREFOAM -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_WallFirefoamPopper"]</xpath>
		<value>
			<designationCategory>Ferny_Firefoam</designationCategory>
		</value>
	</Operation>
	
<!-- AIRFLOW -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_SealantPopper"]</xpath>
		<value>
			<designationCategory>Ferny_AirManagement</designationCategory>
		</value>
	</Operation>

<!-- OUTREACH -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CommsTerminal"]</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_WallOrbitalTradeBeacon"]</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>
	
<!-- RESEARCH PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravtechConsole"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ResearchProduction</designationCategory>
		</value>
	</Operation>
	
<!-- POWER GENERATION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_IndustrialAstrofuelGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravcorePowerCoil"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_SolarPanelling"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>
	
<!-- POWER STORAGE -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravshipCapacitor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerStorage</designationCategory>
		</value>
	</Operation>

<!-- FARMING -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_Agrocell"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Farming</designationCategory>
		</value>
	</Operation>
	
<!-- BEDROOM -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipLivingBedBase"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Bedroom</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CrewLockers"]</xpath>
		<value>
			<designationCategory>Ferny_Bedroom</designationCategory>
		</value>
	</Operation>
	
<!-- MEDICAL -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_MedbayBed"]</xpath>
		<value>
			<designationCategory>Ferny_Medical</designationCategory>
		</value>
	</Operation>
	
</Patch>
