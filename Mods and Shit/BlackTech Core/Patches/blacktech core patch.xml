<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<Operation Class="PatchOperationAddModExtension">
		<success>Always</success>
		<xpath>Defs/DesignationCategoryDef[defName="HKJ_BlackTech"]</xpath>
		<value>
			<li Class="BetterArchitect.NestedCategoryExtension">
				<parentCategory>Furniture</parentCategory>
			</li>
		</value>
	</Operation>

<!-- TRAPS -->
	
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_TrapSpike"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Traps</designationCategory>
		</value>
	</Operation>
	
<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_RepairOthers"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_Dismantling"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_QualityChanger"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>
	
<!-- GENERAL STORAGE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_Tran"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_GeneralStorage</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_TranBig"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_GeneralStorage</designationCategory>
		</value>
	</Operation>
	
<!-- WALLS -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairWall"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Walls</designationCategory>
		</value>
	</Operation>
	
<!-- DOORS -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairdoor"]</xpath>
		<value>
			<designationCategory>Ferny_Doors</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_ControlDoor"]</xpath>
		<value>
			<designationCategory>Ferny_Doors</designationCategory>
		</value>
	</Operation>
	
<!-- RANCHING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairFence"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Ranching</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairFenceGate"]</xpath>
		<value>
			<designationCategory>Ferny_Ranching</designationCategory>
		</value>
	</Operation>
	
<!-- POWER GENERATION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_MaterialToEnergyConverter"]</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>
	
<!-- OUTREACH -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_OrbitalRecycleBeacon"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_FindQuestItemStashMachine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_PrizeDrawMachine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_BuyMachine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_DisasterAdjuster"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>
	
<!-- FILTH -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_RemoveFilth"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Filth</designationCategory>
		</value>
	</Operation>
	
<!-- FIREFOAM -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_RemoveFire"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Firefoam</designationCategory>
		</value>
	</Operation>
	
<!-- MANAGEMENT -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_SkillLearnMachine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Management</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_SkillPassionMachine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Management</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_Xinaoji"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Management</designationCategory>
		</value>
	</Operation>
	
<!-- CONTROL -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_PsychicShocker"]</xpath>
		<value>
			<designationCategory>Ferny_Control</designationCategory>
		</value>
	</Operation>
	
<!-- COMBAT INFRASTRUCTURE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_FinderTower"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_CombatInfrastructure</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION INFRASTRUCTURE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_BiologyReactor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProductionInfrastructure</designationCategory>
		</value>
	</Operation>

<!-- MEDICAL -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_ResurrectBeacon"]</xpath>
		<value>
			<designationCategory>Ferny_Medical</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_HediffChanger_CryptosleepCasket"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Medical</designationCategory>
		</value>
	</Operation>
	
<!-- BARRICADES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoRepairBunker"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="HKJ_Barricade"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_DestroyDropPod"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>
	
<!-- TERRAFORMING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_WeatherRegulator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Terraforming</designationCategory>
		</value>
	</Operation>

<!-- AIRFLOW -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_ControlTemperature"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AirManagement</designationCategory>
		</value>
	</Operation>
	
<!-- AUXILIARIES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_AutoResearcher"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>
	
<!-- MISC -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HKJ_RepairBreakdown"]/designationCategory</xpath>
		<value>
			<designationCategory>Misc</designationCategory>
		</value>
	</Operation>
	
</Patch>
