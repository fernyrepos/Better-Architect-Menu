<?xml version="1.0" encoding="utf-8" ?>
<Patch>          

<!-- WEAPONS -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_AntiAir"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_AutomatedMortar"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Artillery"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Concealed"]</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Catapult"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Ballista"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_ArmoredTurret"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Searchlight"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Flame"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_ShotgunTurret"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Complex_Hmg"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Complex_Minigun"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_Minigun"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeRailgun"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Turret_TeslaBlaster"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Complex_Charge"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Weapons</designationCategory>
                    </value>
                </Operation>

                <Operation Class="PatchOperationFindMod">
                    <mods>
                    <li>Anomaly</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                    <operations>
                        <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="VFES_Complex_HeavyIncineratorComplex"]/designationCategory</xpath>
                        <value>
                            <designationCategory>Ferny_Weapons</designationCategory>
                        </value>
                        </li>
                    </operations>
                    </match>
                </Operation>

                <Operation Class="PatchOperationFindMod">
                    <mods>
                    <li>Anomaly</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                    <operations>
                        <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="VFES_Complex_HeavyIncineratorComplex"]/designationCategory</xpath>
                        <value>
                            <designationCategory>Ferny_Weapons</designationCategory>
                        </value>
                        </li>
                    </operations>
                    </match>
                </Operation>

                <Operation Class="PatchOperationFindMod">
                    <mods>
                    <li>Biotech</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                    <operations>
                        <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="VFES_Complex_GraserCannon"]/designationCategory</xpath>
                        <value>
                            <designationCategory>Ferny_Weapons</designationCategory>
                        </value>
                        </li>
                    </operations>
                    </match>
                </Operation>

                <Operation Class="PatchOperationFindMod">
                    <mods>
                    <li>Vanilla Weapons Expanded - Non-Lethal</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                    <operations>
                        <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="VFES_Turret_NonLethalTurret"]/designationCategory</xpath>
                        <value>
                            <designationCategory>Ferny_Weapons</designationCategory>
                        </value>
                        </li>
                    </operations>
                    </match>
                </Operation>


<!-- BARRICADES -->
                <Operation Class="PatchOperationAdd">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_ConcealedBarrier"]</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[@Name="VFES_RepulsorBase"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_CavalrySpikes"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_CavalrySpikes"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_BarbedWire"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Dugout"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Trench"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_Platform"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_AmmoCrate"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Barricades</designationCategory>
                    </value>
                </Operation>



<!-- TRAPS -->
                <Operation Class="PatchOperationReplace">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="VFES_BearTrap"]/designationCategory</xpath>
                    <value>
                        <designationCategory>Ferny_Traps</designationCategory>
                    </value>
                </Operation>

</Patch>
